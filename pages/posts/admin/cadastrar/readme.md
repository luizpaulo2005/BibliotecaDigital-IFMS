# Documentação do diretório admin/cadastrar

Esse diretório contém as páginas de cadastro de ```campus```, ```curso```, ```discente```, ```docente```, ```matrícula``` e ```pesquisa```.

Começando pelas importações, nós utilizamos o componente ``` Head ``` do NextJS para inserirmos na página o equivalente a seção ``` head ``` do HTML. 
Também foi utilizado a biblioteca ``` axios ``` do ReactJS para requisições na API, o ``` HeaderUser ``` e ``` HeaderAdmin ``` seriam os componentes feitos por nós para servir de cabeçalho das nossas páginas, e por fim o ``` Link ``` do NextJS que tem a mesma função da tag ``` a href ``` do HTML.

A primeira função chamada de ``` getServerSideProps ``` serve para realizar o tratamento dos dados recebidos da API, sua primeira variável chamada de ``` response ``` tem como objetivo receber os dados brutos da API, a segunda váriavel ``` attributes ``` fica com o trabalho de transformar os dados recebidos pelo axios para JSON, e, por fim, a função retorna a variável ``` attributes ``` como ``` props ``` para poder ser utilizada na função principal da página. Em alguns casos podem existir response1 e attributes1 e assim seguindo.

A função ``` TodosPesquisaAdmin ```, tem como intuito renderizar a página, como um HTML ou ``` jsx ``` do prórpio ReactJS, como primeira váriavel temos a constante ``` usuario ``` que recebe os cookies caso existam, que serve para identificar se o usuário está autenticado e, caso não esteja, redirecionar para a página de login, adiante temos a função ``` Protecaoderota ```, que engloba todo o conteúdo da página que será mostrada ao fazer login, primeiro temos uma definição de estado usando o ``` useState ```, chamada de campus, que será o estado responsável por armazenar os atributos que serão enviados posteriormente, após isso também criaremos uma variável chamada de ``` router ```, que receberá a função ``` useRouter ``` do ``` NextJS ```, seguindo, temos a função ``` handleSubmit ```, que é responsável por fazer o tratamento dos dados a serem enviados para alteração no banco de dados, no início da função temos o ``` e.preventDefault ``` e a função emptyFieldCheck para conferir se o formulário não enviará nenhum dado vazio, após isso criaremos uma constante chamada ``` data ``` que receberá o estado ``` pesquisa ```, depois a função ``` response ```, que é responsável por enviar os dados usando a função ``` axios.post ```, e enviando a constante ``` data ```, que recebeu o estado ``` pesquisa ``` anteriormente,e por fim um IF ELSE para retornar se a alteração foi feita com sucesso ou se deu errado. Por fim a ultima função ``` handleInputChange ```, que vai realizar o tratamento do formulário, indicando para onde vai o dado de cada input, e uma constante que vai passar os dados do formulário para o estado ``` pesquisa ```

A única página que se diferencia das outras é a de ``` pesquisas ```, pois o tratamento de formulário dela é diferente por ter que enviar um arquivo PDF junto com os dados, então ele não é enviado por uma constante chamada ``` response ```, ele é enviado por uma função básica do JavaScript chamada de ``` formData ```, que ao invés de mandar o data numa função, passamos por append cada atributo junto ao arquivo, depois passamos os headers na constante ``` config ```,  e por fim enviamos na função ``` axios.put ``` a url, os dados do formulário(formData) e a constante ``` config ```, tendo como retorno uma resposta da API indicando se teve sucesso ou não. 


E por fim a função retorna a parte que será renderizada na página, contendo todo o conteúdo HTML.